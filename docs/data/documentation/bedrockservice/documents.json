{"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Document processing allows you to send PDF, text, and other document formats to foundation models for analysis, summarization, and question answering."}]},{"type":"heading","text":"Basic Document Processing","anchor":"Basic-Document-Processing","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Send a document for analysis:"}]},{"code":["let model: BedrockModel = .nova_lite","","guard model.hasConverseModality(.document) else {","    throw MyError.incorrectModality(\"\\(model.name) does not support documents\")","}","","let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Can you give me a summary of this chapter?\")","    .withDocument(name: \"Chapter 1\", format: .pdf, source: base64EncodedDocument)","","let reply = try await bedrock.converse(with: builder)","print(\"Assistant: \\(reply)\")"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Supported-Document-Formats","text":"Supported Document Formats"},{"type":"paragraph","inlineContent":[{"type":"text","text":"BedrockService supports various document formats:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"PDF ("},{"type":"codeVoice","code":".pdf"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Plain text ("},{"type":"codeVoice","code":".txt"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Markdown ("},{"type":"codeVoice","code":".md"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"CSV ("},{"type":"codeVoice","code":".csv"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Microsoft Word ("},{"type":"codeVoice","code":".docx"},{"type":"text","text":")"}]}]}]},{"type":"heading","anchor":"Document-with-Parameters","text":"Document with Parameters","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Combine document processing with inference parameters:"}]},{"type":"codeListing","syntax":"swift","code":["let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Summarize the key points from this document\")","    .withDocument(name: \"Report\", format: .pdf, source: base64EncodedDocument)","    .withMaxTokens(512)","    .withTemperature(0.4)","","let reply = try await bedrock.converse(with: builder)"]},{"type":"heading","anchor":"Multi-turn-Document-Conversations","text":"Multi-turn Document Conversations","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Continue conversations about the same document:"}]},{"type":"codeListing","syntax":"swift","code":["var builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"What are the main conclusions in this research paper?\")","    .withDocument(name: \"Research Paper\", format: .pdf, source: base64EncodedDocument)","","var reply = try await bedrock.converse(with: builder)","print(\"Assistant: \\(reply)\")","","\/\/ Ask follow-up questions without re-sending the document","builder = try ConverseRequestBuilder(from: builder, with: reply)","    .withPrompt(\"What methodology did they use?\")","","reply = try await bedrock.converse(with: builder)","print(\"Assistant: \\(reply)\")"]},{"type":"heading","anchor":"Using-DocumentBlock","text":"Using DocumentBlock","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create "},{"type":"codeVoice","code":"DocumentBlock"},{"type":"text","text":" objects for more control:"}]},{"type":"codeListing","syntax":"swift","code":["let documentBlock = DocumentBlock(","    name: \"Financial Report Q4\",","    format: .pdf,","    source: base64EncodedDocument",")","","let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Analyze the financial trends in this report\")","    .withDocument(documentBlock)"]},{"type":"heading","anchor":"Document-Analysis-Tasks","text":"Document Analysis Tasks","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Common document processing tasks:"}]},{"type":"heading","anchor":"Summarization","text":"Summarization","level":3},{"type":"codeListing","syntax":"swift","code":["let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Provide a concise summary of this document\")","    .withDocument(name: \"Article\", format: .pdf, source: documentData)"]},{"type":"heading","anchor":"Question-Answering","text":"Question Answering","level":3},{"type":"codeListing","syntax":"swift","code":["let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"What is the author's main argument about climate change?\")","    .withDocument(name: \"Climate Paper\", format: .pdf, source: documentData)"]},{"type":"heading","anchor":"Translation","text":"Translation","level":3},{"type":"codeListing","syntax":"swift","code":["let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Translate this document to French\")","    .withDocument(name: \"Contract\", format: .pdf, source: documentData)"]},{"type":"heading","anchor":"Streaming-with-Documents","text":"Streaming with Documents","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Document processing works with streaming responses:"}]},{"type":"codeListing","syntax":"swift","code":["let builder = try ConverseRequestBuilder(with: model)","    .withPrompt(\"Analyze this legal document and highlight key clauses\")","    .withDocument(name: \"Contract\", format: .pdf, source: base64EncodedDocument)","","let stream = try await bedrock.converseStream(with: builder)","","for try await element in stream {","    switch element {","    case .text(_, let text):","        print(text, terminator: \"\")","    case .messageComplete(_):","        print(\"\\n\")","    default:","        break","    }","}"]}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/BedrockService\/documentation\/BedrockService"]]},"metadata":{"modules":[{"name":"BedrockService"}],"roleHeading":"Article","title":"Documents","role":"article"},"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"article","abstract":[{"type":"text","text":"Process documents with foundation models"}],"sections":[],"variants":[{"paths":["\/documentation\/bedrockservice\/documents"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/BedrockService\/documentation\/BedrockService\/Documents","interfaceLanguage":"swift"},"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/BedrockService\/documentation\/BedrockService\/Converse","doc:\/\/BedrockService\/documentation\/BedrockService\/Vision","doc:\/\/BedrockService\/documentation\/BedrockService\/Streaming"],"anchor":"Related-Documentation"},{"title":"Advanced Topics","identifiers":["doc:\/\/BedrockService\/documentation\/BedrockService\/Tools","doc:\/\/BedrockService\/documentation\/BedrockService\/Vision","doc:\/\/BedrockService\/documentation\/BedrockService\/Reasoning","doc:\/\/BedrockService\/documentation\/BedrockService\/Streaming"],"generated":true,"anchor":"Advanced-Topics"}],"references":{"doc://BedrockService/documentation/BedrockService/Vision":{"kind":"article","type":"topic","url":"\/documentation\/bedrockservice\/vision","abstract":[{"type":"text","text":"Add images to your conversations"}],"role":"article","title":"Vision","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService\/Vision"},"doc://BedrockService/documentation/BedrockService/Streaming":{"title":"Streaming","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService\/Streaming","url":"\/documentation\/bedrockservice\/streaming","type":"topic","role":"article","abstract":[{"text":"Get real-time responses with streaming","type":"text"}],"kind":"article"},"doc://BedrockService/documentation/BedrockService/Reasoning":{"title":"Reasoning","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService\/Reasoning","url":"\/documentation\/bedrockservice\/reasoning","type":"topic","role":"article","abstract":[{"type":"text","text":"Access the modelâ€™s reasoning process"}],"kind":"article"},"bedrock.png":{"variants":[{"url":"\/images\/BedrockService\/bedrock.png","traits":["1x","light"]}],"alt":"BedrockService","identifier":"bedrock.png","type":"image"},"doc://BedrockService/documentation/BedrockService/Tools":{"kind":"article","type":"topic","url":"\/documentation\/bedrockservice\/tools","abstract":[{"type":"text","text":"Enable function calling with foundation models"}],"role":"article","title":"Tools","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService\/Tools"},"doc://BedrockService/documentation/BedrockService":{"kind":"symbol","type":"topic","url":"\/documentation\/bedrockservice","abstract":[{"text":"A Swift library for interacting with Amazon Bedrock foundation models","type":"text"}],"role":"collection","title":"BedrockService","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService","images":[{"type":"icon","identifier":"bedrock.png"}]},"doc://BedrockService/documentation/BedrockService/Converse":{"title":"Converse API","url":"\/documentation\/bedrockservice\/converse","identifier":"doc:\/\/BedrockService\/documentation\/BedrockService\/Converse","type":"topic","role":"article","kind":"article","abstract":[{"text":"Build conversational AI applications with the Converse API","type":"text"}]}}}